version: "3.8"
networks:
  app_tier:
    driver: bridge
services:
  ui:
    image: bloated/ui
    build: ./ui
    networks:
      - app_tier
    ports:
      - ${BLOATED_UI_PORT}:3000
    restart: unless-stopped
    environment:
      - PROTOCOL_HEADER=x-forwarded-proto
      - HOST_HEADER=x-forwarded-host
      - ADDRESS_HEADER=x-forwarded-for
      - XFF_DEPTH=1
      - BANNED_IP_FILE=${BLOATED_UI_BANNED_IP_FILE}
